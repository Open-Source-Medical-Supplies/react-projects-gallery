{"version":3,"sources":["service/mapCardToJSON.js","components/card-container/card.js","components/card-container/card-container.js","components/detail-window/detail-window.js","shared/utilities.js","components/detail-window/full-card.js","service/airtable.js","env.js","components/filter-menu/categories-list.js","components/filter-menu/filter-menu.utilities.js","components/filter-menu/search-bar.js","components/filter-menu/attributes-list.js","components/filter-menu/filter-menu.js","shared/font-awesome-lib.js","App.js","index.js"],"names":["MapCardToJSON","card","name","displayName","reviewedBy","reviewStatus","imageURL","HeaderImageURL","description","externalLink","attributionOrg","creator","osmsNotes","ProjectCard","data","setCard","selectedCard","headerImage","className","style","height","alt","src","footer","display","justifyContent","onClick","visible","label","icon","iconPos","selectedName","highlight","classNames","sizing","key","header","CardContainer","records","cardChange","reduce","acc","fields","push","DetailWindow","props","onCloseClick","bind","this","onShow","unbindMaskClickListener","disableModality","prevProps","prevState","onHide","mask","dismissable","bindMaskClickListener","container","zIndex","String","baseZIndex","DomHandler","generateZIndex","modal","enableModality","closeOnEscape","bindDocumentEscapeListener","closeIcon","focus","document","createElement","parseInt","maskStyleClass","blockScroll","addMultipleClasses","body","appendChild","addClass","removeChild","hasBlockerMasks","bodyChildren","children","i","length","bodyChild","hasClass","removeClass","event","preventDefault","unbindDocumentEscapeListener","documentEscapeListener","which","getCurrentZIndex","addEventListener","removeEventListener","maskClickListener","type","ref","el","aria-label","ariaCloseLabel","position","fullScreen","renderCloseIcon","id","role","Component","defaultProps","showCloseIcon","iconsTemplate","notEmpty","o","Object","keys","empty","FullCard","sectionName","md","link","desc","source","externalLinks","split","map","slice","href","target","rel","attribution","creatorAttr","reviewed","window","open","tooltip","base","require","apiKey","getRows","a","select","view","getFilterMenu","CategoriesList","setFilterState","categoriesFilters","categories","parent","useState","toggleState","baseSetToggleState","setToggleState","useEffect","category","CategoryBlock","classes","toggleable","buildTree","parentKey","parseRecords","mappedRecords","field","nodes","nodeKeys","nodeKey","filterBy","filterState","_records","filters","nodeFilters","filterKey","checked","partialChecked","noFalsePositives","treedFilters","filterKeys","flattenedNodes","arrData","forEach","node","child","flattenTree","columnHeader","filtersAsTree","treedFilterKeys","record","recordAdded","filter","columnKey","colVal","some","includes","checkNodes","SearchBar","setState","searchState","setSearchState","filteredRecords","toLowerCase","htmlFor","width","onChange","e","value","AttributesList","selectionKeys","setSelection","selectionMode","onSelectionChange","filterPlaceholder","FilterStateDefault","FilterMenu","baseSetFilterState","eachPage","fetchNextPage","simpleFields","err","console","error","initFabLib","library","add","faChevronUp","faChevronDown","faBowlingBall","faLemon","faFighterJet","faQuidditch","faHandshake","StateDefault","App","state","baseSetState","simpleRecords","staging","flex","marginRight","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3dce8740.chunk.js","sourcesContent":["export function MapCardToJSON (card) {\n  if (!card) return;\n  const name = card['Full Project Name'];\n  const displayName = card['Display Name'] ? card['Display Name'][0] : '';  // b/c it's a lookup field in AT?\n  const reviewedBy = card['Reviewed By'] ? card['Reviewed By'] : '';\n  const reviewStatus = card['Review Status'] ? card['Review Status'][0] : '';\n  const imageURL = card.HeaderImageURL !== '#ERROR!' ? card.HeaderImageURL : '';\n  const description = card['Description'];\n  const externalLink = card['Link'];\n  const attributionOrg = card['Attribution Organization'];\n  const creator = card['Creator'] || '';\n  const osmsNotes = card['OSMS Notes'] || '';\n\n  return {\n    attributionOrg,\n    creator,\n    name,\n    osmsNotes,\n    displayName,\n    reviewedBy,\n    reviewStatus,\n    imageURL,\n    description,\n    externalLink,\n  }\n}","import React from 'react';\nimport {Card} from 'primereact/card';\nimport {Button} from 'primereact/button';\nimport classNames from \"classnames\";\nimport { MapCardToJSON } from '../../service/mapCardToJSON';\n\nconst ProjectCard = ({data, setCard, selectedCard}) =>{\n  const {\n    name, displayName, reviewStatus, imageURL\n  } = MapCardToJSON(data);\n\n  const selectCard = () => {\n    setCard({selectedCard: data, visible: true});\n  }\n\n  const headerImage = (\n    typeof data.HeaderImageURL !== 'string' ?\n      <div className='center-flex' style={{height: '150px'}}>No image available</div> :\n      <img className='centered-image' alt={name} src={imageURL} style={{ height: '150px' }}/>\n  )\n  const footer = (\n    <span style={{display: 'flex', justifyContent: 'flex-end'}}>\n      <Button\n        onClick={selectCard}\n        label='View'\n        icon='pi\n        pi-eye'\n        iconPos='right'\n        className=\"p-button-raised p-button-rounded\" />\n    </span>\n  );\n  \n  const selectedName = selectedCard['Full Project Name'];\n\n  const highlight = classNames({\n    \"card-selected\": !!selectedName && selectedName === name\n  });\n  const sizing = classNames({\n    'p-col-4': !selectedName,\n    'p-col-6': !!selectedName\n  })\n  return (\n    <div key={name} className={sizing}>\n      <Card header={headerImage} footer={footer} className={highlight}>\n        <h2 className='clamp-1'> {name} </h2>\n        <h3 className='clamp-1'> {displayName} </h3>\n      </Card>\n    </div>\n  );\n}\nexport default ProjectCard;","import React from 'react';\nimport ProjectCard from './card';\n\nconst CardContainer = ({records, cardChange, selectedCard}) => {\n  return (\n    <div className='p-grid'>\n      {\n        records.reduce((acc, fields) => {\n            acc.push(\n              <ProjectCard\n                key={fields['Base ID']}\n                data={fields}\n                setCard={cardChange}\n                selectedCard={selectedCard}/>\n            ); \n          return acc;\n        }, [])\n      }\n    </div>\n  );\n}\n\nexport default CardContainer;","import React, { Component } from \"react\";\nimport classNames from \"classnames\";\nimport DomHandler from \"primereact/components/utils/DomHandler\";\n\nexport default class DetailWindow extends Component {\n  // adapted from the PrimeReact Sidebar component\n  static defaultProps = {\n    id: null,\n    style: null,\n    className: null,\n    visible: false,\n    position: \"right\",\n    fullScreen: false,\n    blockScroll: false,\n    baseZIndex: 0,\n    dismissable: true,\n    showCloseIcon: true,\n    ariaCloseLabel: \"close\",\n    closeOnEscape: true,\n    iconsTemplate: null,\n    modal: false,\n    onShow: null,\n    onHide: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.onCloseClick = this.onCloseClick.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.visible) {\n      this.onShow();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unbindMaskClickListener();\n    this.disableModality();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.visible !== this.props.visible) {\n      this.props.visible ? this.onShow() : this.onHide();\n    }\n\n    if (this.mask && prevProps.dismissable !== this.props.dismissable) {\n      this.props.dismissable ? this.bindMaskClickListener() : this.unbindMaskClickListener();\n    }\n  }\n\n  onShow() {\n    this.container.style.zIndex = String(\n      this.props.baseZIndex + DomHandler.generateZIndex()\n    );\n\n    if (this.props.modal) {\n      this.enableModality();\n    }\n\n    if (this.props.closeOnEscape) {\n      this.bindDocumentEscapeListener();\n    }\n\n    if (this.closeIcon) {\n      this.closeIcon.focus();\n    }\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  }\n\n  enableModality() {\n    if (!this.mask) {\n      this.mask = document.createElement(\"div\");\n      this.mask.style.zIndex = String(\n        parseInt(this.container.style.zIndex, 10) - 1\n      );\n      let maskStyleClass = \"p-component-overlay p-sidebar-mask\";\n\n      if (this.props.blockScroll) {\n        maskStyleClass += \" p-sidebar-mask-scrollblocker\";\n      }\n      \n      DomHandler.addMultipleClasses(this.mask, maskStyleClass);\n\n      if (this.props.dismissable) {\n        this.bindMaskClickListener();\n      }\n\n      document.body.appendChild(this.mask);\n\n      if (this.props.blockScroll) {\n        DomHandler.addClass(document.body, \"p-overflow-hidden\");\n      }\n    }\n  }\n\n  disableModality() {\n    if (this.mask) {\n      this.unbindMaskClickListener();\n      document.body.removeChild(this.mask);\n\n      if (this.props.blockScroll) {\n        let bodyChildren = document.body.children;\n        let hasBlockerMasks;\n        for (let i = 0; i < bodyChildren.length; i++) {\n          let bodyChild = bodyChildren[i];\n          if (DomHandler.hasClass(bodyChild, \"p-sidebar-mask-scrollblocker\")) {\n            hasBlockerMasks = true;\n            break;\n          }\n        }\n\n        if (!hasBlockerMasks) {\n          DomHandler.removeClass(document.body, \"p-overflow-hidden\");\n        }\n      }\n      this.mask = null;\n    }\n  }\n\n  onCloseClick(event) {\n    this.props.onHide();\n    event.preventDefault();\n  }\n\n  onHide() {\n    this.unbindMaskClickListener();\n    this.unbindDocumentEscapeListener();\n\n    if (this.props.modal) {\n      this.disableModality();\n    }\n  }\n\n  bindDocumentEscapeListener() {\n    this.documentEscapeListener = (event) => {\n      if (event.which === 27) {\n        if (\n          parseInt(this.container.style.zIndex, 10) ===\n          DomHandler.getCurrentZIndex() + this.props.baseZIndex\n        ) {\n          this.onCloseClick(event);\n        }\n      }\n    };\n    document.addEventListener(\"keydown\", this.documentEscapeListener);\n  }\n\n  unbindDocumentEscapeListener() {\n    if (this.documentEscapeListener) {\n      document.removeEventListener(\"keydown\", this.documentEscapeListener);\n      this.documentEscapeListener = null;\n    }\n  }\n\n  bindMaskClickListener() {\n    if (!this.maskClickListener) {\n      this.maskClickListener = (event) => {\n        this.onCloseClick(event);\n      };\n      this.mask.addEventListener(\"click\", this.maskClickListener);\n    }\n  }\n\n  unbindMaskClickListener() {\n    if (this.maskClickListener) {\n      this.mask.removeEventListener(\"click\", this.maskClickListener);\n      this.maskClickListener = null;\n    }\n  }\n\n  renderCloseIcon() {\n    return (\n      <button\n        type=\"button\"\n        ref={(el) => (this.closeIcon = el)}\n        className=\"p-sidebar-close p-link close-button\"\n        onClick={this.onCloseClick}\n        aria-label={this.props.ariaCloseLabel}\n      >\n        <span className=\"p-sidebar-close-icon pi pi-times\" />\n      </button>\n    );\n  }\n\n  render() {\n    const className = classNames(\n      \"p-sidebar p-component\",\n      this.props.className,\n      \"p-sidebar-\" + this.props.position,\n      {\n        \"p-sidebar-active\": this.props.visible,\n        \"p-sidebar-full\": this.props.fullScreen,\n      }\n    );\n    const closeIcon = this.renderCloseIcon();\n\n    return (\n      <div\n        ref={(el) => (this.container = el)}\n        id={this.props.id}\n        className={className}\n        style={this.props.style}\n        role=\"complementary\"\n      >\n        {closeIcon}\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","export const OpenExternalSafely = '_blank noopener noreferrer nofollow';\n\n/**\n * \n * @param {string} link \n * @returns {Window}\n */\nexport const openExternal = (link) => () => window.open(link, OpenExternalSafely);\n\n/**\n * \n * @param {{}} o\n * @returns {boolean}\n */\nexport const empty = (o) => !Object.keys(o).length;\n/**\n * \n * @param {{}} o\n * @returns {boolean}\n */\nexport const notEmpty = (o) => !empty(o);\n\nexport const createUUID = () => Math.round(Math.random() * 10000);\n","import { Button } from 'primereact/button';\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { MapCardToJSON } from '../../service/mapCardToJSON';\nimport { OpenExternalSafely, openExternal } from '../../shared/utilities';\n\nconst FullCard = ({selectedCard}) => {\n  const {\n    name, displayName, reviewedBy, reviewStatus, imageURL, description, externalLink, attributionOrg, creator, osmsNotes\n  } = MapCardToJSON(selectedCard);\n\n  const markdownSection = (sectionName, md) => (\n    <div key={sectionName}>\n      <h3>{sectionName}</h3>\n      <ReactMarkdown source={md} />\n    </div>\n  );\n  \n  const headerImage = (\n    typeof imageURL !== 'string' ?\n      <div className='center-flex' style={{height: '150px'}}>No image available</div> :\n      <img className='centered-image' alt={name} src={imageURL} style={{ height: '250px' }}/>\n  )\n\n  const desc = (\n    <section alt='description'>\n      <ReactMarkdown source={description} />\n      {\n        osmsNotes ? markdownSection('Notes', osmsNotes) : null\n      }\n    </section>\n  );\n\n  const externalLinks = externalLink?.split(';') || [];\n  const source = (\n    <section alt='Sources' >\n      <h3>Source</h3>\n      {\n        externalLinks.map(link => ( \n          // eslint-disable-next-line react/jsx-no-target-blank\n          <a key={link.slice(0,-10)} href={link} target='_blank' rel={OpenExternalSafely}>\n            <span className='clamp-1'>{link}</span>\n          </a>\n        ))\n      }\n    </section>\n  );\n\n  const attribution = (\n    <section alt='Attribution Organization'>\n      <h3>Attribution Organization</h3>\n      <p>\n        {attributionOrg}\n      </p>\n    </section>\n  );\n\n  const creatorAttr = !!creator ? (\n    <section alt='Creator'>\n      <h3>Creator</h3>\n      <p>\n        {creator}\n      </p>\n    </section>\n  ) : null;\n\n  const reviewed = reviewedBy || reviewStatus ? (\n    <section alt='Reviewed by'>\n      <h3>{reviewedBy ? 'Reviewed By' : 'Review Status'}</h3>\n      <p>\n        {reviewedBy || reviewStatus}\n      </p>\n    </section>\n  ) : null;\n\n  const footer = (\n    <span alt='footer' className=\"full-card__footer\">\n      <Button\n        onClick={openExternal(externalLinks[0])}\n        tooltip='Link will open in a new tab'\n        label='Make it!'\n        icon='pi pi-external-link'\n        iconPos='right'\n        className=\"p-button-raised p-button-rounded\" />\n    </span>\n  );\n\n  return (\n    <div className=\"full-card\">\n      <div className=\"full-card__content\">\n        {headerImage}\n        <h1>{name}</h1>\n        <h3>{displayName}</h3>\n        {desc}\n        {attribution}\n        {creatorAttr}\n        {reviewed}\n        {source}\n      </div>\n      {footer}\n    </div>\n  );\n}\nexport default FullCard;","import {API_KEY} from '../env.js';\n\nconst Airtable = require('airtable');\nconst base = new Airtable({apiKey: API_KEY}).base('apppSjiUMTolFIo1P');\n\nconst GRID_VIEW = 'Grid view'\n\nexport async function getRows() {\n  return base('Engineered Project Pages').select({\n    view: \"Default View\",\n    // fields: ['Base ID', 'Full Project Name', 'Display Name', 'HeaderImageURL', 'HospitalApproved', 'Review Status'] // contains id by default\n    // pageSize: 25\n  });\n}\nexport async function getFilterMenu() {\n  return base('ProjectsFilterMenu').select({view: GRID_VIEW});\n}\n\nexport async function getBoM() {\n  return base('Bill of Materials').select({view: GRID_VIEW});\n}\n","export const API_KEY = 'keyRGIXTxN4zNgMBf';","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button } from 'primereact/button';\nimport { Panel } from 'primereact/panel';\nimport React, { useState, useEffect } from \"react\";\nimport classNames from \"classnames\";\n\nconst CategoriesList = ({ setFilterState, categoriesFilters, categories: {parent, children} }) => {\n  const [toggleState, baseSetToggleState] = useState({});\n  const setToggleState = (props) => baseSetToggleState({...toggleState, ...props});\n  \n  useEffect(() => {\n    setToggleState(children?.reduce((acc, category) => {\n      acc[category.key] = false;\n      return acc;\n    }, {}));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleClick = (key) => {\n    if (categoriesFilters[key] && toggleState[key]) {\n      delete categoriesFilters[key];\n      setToggleState({[key]: false});\n    } else {\n      categoriesFilters[key] = true;\n      setToggleState({[key]: true});\n    }\n    setFilterState({categoriesFilters})\n  };\n\n  const CategoryBlock = ({data}) => {\n    const classes = classNames(\n      \"p-col p-component p-togglebutton\", \n      { 'p-highlight': toggleState[data.key] }\n    );\n    return (\n      <Button onClick={() => handleClick(data.key)} label={data.label} className={classes}>\n        <FontAwesomeIcon icon={data.icon} />\n      </Button>\n    );\n  };\n\n  return (\n    <Panel header={parent?.label} toggleable={true}>\n      <div className='p-grid'>\n        { children.map(category => (\n          <CategoryBlock key={category.key} data={category}></CategoryBlock>\n        )) }\n      </div>\n    </Panel>\n  );\n};\nexport default CategoriesList;\n","import { notEmpty, createUUID } from \"../../shared/utilities\";\n\nexport function attachUUID(nodes) {\n  // this requires a bit of weaving to integrate, better to just have unique names in the DB\n  return nodes.map(node => {\n    node.key += '-' + createUUID()\n    if (node.children) {\n      node.children = attachUUID(node.children);\n    }\n    return node;\n  });\n}\n\nconst buildTree = (data, acc = {}) => {\n  const {key, parentKey} = data;\n  if (parentKey) {\n    if (acc[parentKey]) {\n      acc[parentKey].children.push(data);\n    } else {\n      acc[parentKey] = {\n        parent: null,\n        children: [data]\n      };\n    }\n  } else {\n    if (acc[key]) {\n      acc[key] =  {\n        ...data,\n        children: acc[key].children\n      };\n    } else {\n      acc[key] = {\n        ...data,\n        children: []\n      };\n    }\n  }\n  return acc;\n}\n\nexport const parseRecords = (fields) => {\n  const mappedRecords = fields.reduce((acc, field) => {\n    // TODO: normalize 'categories' to match 'nodes'\n    const {key, parentKey} = field;\n    // categories\n    if (key === 'categories') {\n      acc.categories.parent = field;\n      return acc;\n    }\n    if (parentKey === 'categories') {\n      acc.categories.children.push(field);\n      return acc;\n    }\n    // end categories\n    if(field.icon) {\n      field.icon = 'pi ' + field.icon;\n    }\n    // nodes\n    buildTree(field, acc.nodes);\n    // end nodes\n    return acc;\n  }, {\n    categories: {\n      parent: null,\n      children: []\n    },\n    nodes: {}\n  });\n\n  const nodeKeys = Object.keys(mappedRecords.nodes);\n  return {\n    categories: mappedRecords.categories,\n    nodes: nodeKeys.map(nodeKey => mappedRecords.nodes[nodeKey]) // this feels hacky\n  }\n};\n\nconst flattenTree = (arrData) => {\n  // should make this properly recursive at some point\n  const acc = {};\n  arrData.forEach(node => {\n    acc[node.key] = node;\n    if (node.children) {\n      node.children.forEach(child => {\n        acc[child.key] = child;\n      })\n    }\n  });\n  return acc;\n}\n\n/**\n * builds a tree from flattened filters,\n  pulling the relationship from the previously built (now flattened) menu nodes\n*/\nconst filtersAsTree = (nodes, filters) => {\n  const filterKeys = Object.keys(filters);\n  const flattenedNodes = flattenTree(nodes);\n\n  const data = filterKeys.reduce((acc, key) => {\n    const {parentKey, label, columnHeader} = flattenedNodes[key];\n    acc.push({ key, parentKey, label, columnHeader, ...filters[key] });\n    return acc;\n  }, []);\n  \n  return data.reduce((acc, field) => buildTree(field, acc), {});\n}\n\nconst combineFilters = (...filters) => {\n  // ??\n  return {...filters}\n}\n\n/**\n * \n * @param {{label: string}[]} nodes \n * @param {string} target \n * @returns {boolean}\n */\nconst checkNodes = (nodes, target) => {\n  if (nodes.length) {\n    return nodes.some(node => {\n      return (\n        node.label === target ||\n        node.label.includes(target) ||\n        target.includes(node.label)\n      );\n    });\n  }\n  return false;\n}\n\n/**\n * \n * @param {\n    { [filterKey: string]: {\n      checked: false;\n      partialChecked: false;\n    }}\n  } filters\n * @returns {boolean}\n */\nconst noFalsePositives = (filters) => {\n  for (let filterKey of Object.keys(filters)) {\n    if (filters[filterKey].checked || filters[filterKey].partialChecked){\n      return true;\n    }\n  }\n  return false\n};\n\nexport const filterBy = (filterState, _records) => {\n  // combineFilters // ??\n  const filters = filterState.nodeFilters\n  if (notEmpty(filters) && noFalsePositives(filters)) {\n    const {nodes, nodeFilters} = filterState;\n    const treedFilters = filtersAsTree(nodes, nodeFilters)\n    const treedFilterKeys = Object.keys(treedFilters);\n\n    return _records.reduce((acc, record) => {\n      let recordAdded = false;\n      treedFilterKeys.forEach(filterKey => {\n        if(!recordAdded) {\n          const filter = treedFilters[filterKey];\n          const {children} = filter;\n          const columnKey = filter.columnHeader || filter.label;\n          const colVal = record[columnKey];\n          if (colVal && checkNodes(children, colVal)) {\n            acc.push(record);\n            recordAdded = true;\n          }\n        }\n      });\n      return acc;\n    }, []);\n  }\n  return _records;\n}\n","import React, {useState, useEffect} from 'react';\nimport {InputText} from 'primereact/inputtext';\nimport { MapCardToJSON } from '../../service/mapCardToJSON';\n\nexport const SearchBar = ({setState, _records}) => {\n  const [searchState, setSearchState] = useState('');\n  const onInputChange = e => setSearchState(e.target.value);\n  \n  useEffect(() => {\n    const filteredRecords = !searchState.length ? _records : _records.filter(record => {\n      const { name } = MapCardToJSON(record);\n      return name.toLowerCase().includes(searchState.toLowerCase())\n    });\n    setState({records: filteredRecords});\n  }, [searchState]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className='sticky-top-0' style={{zIndex: 10}}>\n      <span className='p-float-label'>\n        <label htmlFor='searchBar'>{searchState.length ? '' : 'Search'}</label>\n        <InputText id='searchBar'\n          style={{width: '100%'}}\n          onChange={onInputChange}\n          value={searchState}></InputText>\n      </span>\n    </div>\n  )\n}","import { Panel } from \"primereact/panel\";\nimport { Tree } from \"primereact/tree\";\nimport React from \"react\";\n\nconst AttributesList = ({nodes, selectionKeys, setSelection}) => {\n  return (\n    <Panel header='Attributes' toggleable={true} className='attribute-list-panel'>\n      <Tree\n        value={nodes}\n        selectionMode=\"checkbox\"\n        selectionKeys={selectionKeys}\n        onSelectionChange={setSelection}\n        filter={true}\n        filterPlaceholder=\"Filter\"\n      ></Tree>\n    </Panel>\n  );\n};\n\nexport default AttributesList;\n","import React, { useEffect, useState } from 'react';\nimport { getFilterMenu } from '../../service/airtable';\nimport CategoriesList from './categories-list';\nimport { filterBy, parseRecords } from './filter-menu.utilities';\nimport { SearchBar } from './search-bar';\nimport AttributesList from './attributes-list';\n\nconst FilterStateDefault = {\n  nodes: [],\n  nodeFilters: {},\n  categories: {\n    parent: [],\n    children: []\n  },\n  categoriesFilters: {},\n  filters: {}\n};\n\nconst FilterMenu = ({setState, _records, records}) => {\n  const [filterState, baseSetFilterState] = useState(FilterStateDefault);\n  const setFilterState = (props) => baseSetFilterState({...filterState, ...props});\n  const setSelection = event => setFilterState({nodeFilters: event.value});\n\n  // load menu\n  useEffect(() => {\n    (async function fetch () {\n      const menu = await getFilterMenu();\n      menu.eachPage(\n        (records, fetchNextPage) => {\n          const simpleFields = records.map(({fields}) => fields);\n          const {categories, nodes} = parseRecords(simpleFields);\n          setFilterState({categories, nodes});\n        },\n        (err) => {\n          if (err) { console.error(err); return; }\n        }\n      );\n    })()\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // filter-changes\n  useEffect(() => {\n    const filteredRecords = filterBy(filterState, _records);\n    setState({records: filteredRecords});\n    \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    filterState.categoriesFilters,\n    filterState.nodeFilters\n  ]);\n\n  return (\n    <div className='sticky-top-0'>\n      <SearchBar setState={setState} _records={_records} />\n      <div className='divider-1'></div>\n      <CategoriesList\n        categories={filterState.categories}\n        categoriesFilters={filterState.categoriesFilters}\n        setFilterState={setFilterState}/>\n      <div className='divider-1'></div>\n      <AttributesList\n        nodes={filterState.nodes}\n        selectionKeys={filterState.nodeFilters}\n        setSelection={setSelection}/>\n    </div>\n  );\n};\n\nexport default FilterMenu;","import { library } from '@fortawesome/fontawesome-svg-core'\n// import { fab } from '@fortawesome/free-brands-svg-icons'\nimport {\n  faChevronUp,\n  faChevronDown,\n  faBowlingBall,\n  faLemon,\n  faFighterJet,\n  faQuidditch,\n  faHandshake\n} from '@fortawesome/free-solid-svg-icons'\n\nconst initFabLib = () => library.add(\n  faChevronUp,\n  faChevronDown,\n  faBowlingBall,\n  faLemon,\n  faFighterJet,\n  faQuidditch,\n  faHandshake\n);\n\nexport default initFabLib;\n","import \"primeflex/primeflex.css\";\nimport 'primeicons/primeicons.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport React, { useState, useEffect } from 'react';\nimport CardContainer from './components/card-container/card-container';\nimport DetailWindow from './components/detail-window/detail-window';\nimport FullCard from \"./components/detail-window/full-card\";\nimport FilterMenu from \"./components/filter-menu/filter-menu\";\nimport './shared/css/_prime.scss';\nimport initFabLib from './shared/font-awesome-lib';\nimport { getRows } from \"./service/airtable\";\n\n/**\n * @type {{\n       _records: Array<{}>\n       records: Array<{}>\n       selectedCard: {}\n       visible: boolean\n  }} _records\n */\nconst StateDefault = {\n  _records: [], // immutable\n  records: [],\n  selectedCard: {},\n  visible: false,\n};\n\nconst App = () => {\n  initFabLib();\n\n  let [state, baseSetState] = useState(StateDefault);\n  const setState = (props) => baseSetState({...state, ...props});\n\n  const hide = () => setState({selectedCard: {}, visible: false});\n\n  useEffect(() => {\n    (async function fetch() {\n      const rows = await getRows();\n      rows.eachPage(\n        (records, fetchNextPage) => {\n          const simpleRecords = records\n            .map(({fields}) => fields) // strip Airtable operations\n            .filter(field => field.staging !== true);\n          setState({records: simpleRecords, _records: simpleRecords});\n        },\n        (err) => {\n          if (err) { console.error(err); return; }\n        }\n      );\n    })();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  \n  return (\n    <div style={{display: 'flex'}}>\n      <div style={{flex: 1, marginRight: '0.5rem'}}>\n        <FilterMenu records={state.records} _records={state._records} setState={setState}/>\n      </div>\n      <div style={{display: 'flex', flex: state.visible ? 2 : 4}}>\n        <CardContainer records={state.records} cardChange={setState} selectedCard={state.selectedCard} />\n      </div>\n      <div style={{display: 'flex', flex: state.visible ? 2 : 0}}>\n        <DetailWindow visible={state.visible} onHide={hide} className='p-sidebar-md'>\n          <FullCard selectedCard={state.selectedCard} />\n        </DetailWindow>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}